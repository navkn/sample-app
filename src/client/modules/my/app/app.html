<template>
    <div class="slds-m-horizontal_xx-large slds-m-top_medium">
        <!-- Wrapped with div as slds horizontal margin is not being applied for card -->
        <lightning-card
            title="SolarBot Statuses from SF Org"
            class="slds-text-align_center"
        >
            <lightning-button label="New" slot="actions"></lightning-button>

            <div if:false={result}>
                <lightning-spinner
                    alternative-text="Loading the data from Org"
                    size="large"
                ></lightning-spinner>
            </div>
            <lightning-datatable
                if:true={result}
                key-field="Id"
                show-row-number-column
                data={result}
                columns={columns}
                onrowaction={handleRowAction}
            >
            </lightning-datatable>
            <div if:true={editRecord}>
                <section
                    role="dialog"
                    tabindex="-1"
                    aria-labelledby="modal-heading-01"
                    aria-modal="true"
                    class="slds-modal slds-fade-in-open"
                >
                    <div class="slds-modal__container">
                        <button
                            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        >
                            <svg
                                class="slds-button__icon slds-button__icon_large"
                                aria-hidden="true"
                            >
                                <use
                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"
                                ></use>
                            </svg>
                            <span class="slds-assistive-text"
                                >Cancel and close</span
                            >
                        </button>
                        <div class="slds-modal__header">
                            <h1
                                id="modal-heading-01"
                                class="slds-modal__title slds-hyphenate"
                            >
                                Edit SolarbBot {editRecord.Name}
                            </h1>
                        </div>
                        <div
                            class="slds-modal__content slds-p-around_medium"
                            id="modal-content-id-1"
                        >
                            <div class="slds-grid slds-wrap">
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-input
                                        type="text"
                                        label="SolarBot Status Name"
                                        value={editRecord.Name}
                                    ></lightning-input>
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-input
                                        type="text"
                                        label="SolarBot"
                                        value={editRecord.SolarBot__r.Name}
                                    ></lightning-input>
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-input
                                        type="text"
                                        label="Panel Temp"
                                        value={editRecord.Panel_Temperature__c}
                                    ></lightning-input>
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-input
                                        type="text"
                                        label="Kilowatt Hours"
                                        value={editRecord.Kilowatt_Hours__c}
                                    ></lightning-input>
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-input
                                        type="text"
                                        label="SolarBot Account Name"
                                        value={editRecord.SolarBot__r.Account__r.Name}
                                    ></lightning-input>
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-input
                                        type="text"
                                        label="Maintenance Requested"
                                        value={editRecord.Maintenance_Requested__c}
                                    ></lightning-input>
                                </div>
                            </div>
                        </div>
                        <div class="slds-modal__footer">
                            <button
                                class="slds-button slds-button_neutral"
                                aria-label="Cancel and close"
                                onclick={handleCancel}
                            >
                                Cancel
                            </button>
                            <button
                                class="slds-button slds-button_brand"
                                onclick={handleSave}
                            >
                                Save
                            </button>
                        </div>
                    </div>
                </section>
                <div
                    class="slds-backdrop slds-backdrop_open"
                    role="presentation"
                ></div>
            </div>
            <!-- <p slot="footer">Card Footer</p> -->
        </lightning-card>
    </div>
</template>
